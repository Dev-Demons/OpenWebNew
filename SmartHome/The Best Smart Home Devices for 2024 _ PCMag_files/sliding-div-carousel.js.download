window.slidingDivCarousel=function(){return{arrowsVisible:true,windowWidth:window.innerWidth,currentPageIndex:0,nextSlideIndex:0,touchBegin:0,touchFinish:0,reviews:[],scrollLeft:0,hasSwiped:false,defaultWidth:264,mountSlides:function(){let slides=this.$refs.slider.querySelectorAll('.slide:not(.md\\:hidden)');for(let i=0;i<slides.length;i++){this.reviews.push(slides[i].innerHTML)}},setPage:function(event){return this.scrollLeft=event.target.scrollLeft},nextPage:function(){let slide=this.$refs.slider.querySelector('.slide:nth-child(2)')?this.$refs.slider.querySelector('.slide:nth-child(2)'):this.$refs.slider.querySelector('.slide');this.scrollLeft=parseInt(this.scrollLeft)+(slide.getBoundingClientRect().width*2);if(this.scrollLeft>=this.defaultWidth*this.reviews.length-(slide.getBoundingClientRect().width*2)){this.scrollLeft=this.defaultWidth*this.reviews.length-(slide.getBoundingClientRect().width*2);}
this.$refs.slider.querySelector('.slider').scrollTo({left:this.scrollLeft,behavior:'smooth'});},previousPage:function(){let slide=this.$refs.slider.querySelector('.slide:nth-child(2)')?this.$refs.slider.querySelector('.slide:nth-child(2)'):this.$refs.slider.querySelector('.slide');this.scrollLeft=parseInt(this.scrollLeft)-(slide.getBoundingClientRect().width*2);if(this.scrollLeft<0){this.scrollLeft=0;}
this.$refs.slider.querySelector('.slider').scrollTo({left:this.scrollLeft,behavior:'smooth'});},onWindowResize:window.debounce(function(){this.windowWidth=window.innerWidth},100),touchStart:function(event){this.touchBegin=event.changedTouches[0].clientX;},touchEnd:function(event){this.touchFinish=event.changedTouches[0].clientX;this.swipeHandler(this.touchFinish-this.touchBegin);},swipeHandler:function(direction){if(Math.abs(direction)>20&&window.ga){let directionSwiped=(direction>0)?'right':'left';window.ga('send',{hitType:'event',eventCategory:'swipe',eventAction:'sliding-carousel',eventLabel:'swiped-'+directionSwiped,'dimension2':window.legacy_template||null,'dimension33':window.template||null,'nonInteraction':0,transport:'beacon'});gtag('event','sliding-carousel',{event_category:'swipe',event_label:'swiped-'+directionSwiped,'non_interaction':false,});}},showPrevious:function(){return this.scrollLeft>10;},showNext:function(){return this.scrollLeft<this.defaultWidth*this.reviews.length-(this.$refs.slider?this.$refs.slider.getBoundingClientRect().width:0);},init:function(){this.$nextTick(()=>{this.mountSlides();let slide=this.$refs.slider.querySelector('.slide:nth-child(2)')?this.$refs.slider.querySelector('.slide:nth-child(2)'):this.$refs.slider.querySelector('.slide');setTimeout(()=>{this.defaultWidth=slide.getBoundingClientRect().width;},1000);this.$refs.slider.querySelector('.slider').scrollTo({left:this.scrollLeft,behavior:'smooth'});})}}}